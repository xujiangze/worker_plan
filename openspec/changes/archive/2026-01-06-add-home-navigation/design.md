# 设计文档: 主页导航

## 架构设计

### 组件层次结构

```
App.vue
└── MainLayout.vue
    ├── NavigationMenu.vue (新增)
    └── router-view
        ├── HomeView.vue (新增)
        │   └── FeatureCard.vue (新增)
        ├── PlansView.vue (已存在)
        └── 其他视图...
```

### 导航模式选择

采用**侧边栏导航**模式,原因如下:
1. 更适合多功能模块的系统
2. 可以容纳更多导航项
3. 扩展性好,未来添加新功能时易于维护
4. 符合管理类系统的常见设计模式

## UI 设计

### 主页布局

```
+----------------------------------+
|  Logo + 系统名称                 |  顶部栏
+----------------------------------+
|                                  |
|  [侧边栏导航]                     |
|  - 计划管理                       |
|  - 统计分析                       |
|  - 进度跟踪                       |
|  - 历史记录                       |
|                                  |
+----------------------------------+
|                                  |
|  主页内容区域                     |
|  +----------------+              |
|  | 计划管理        |              |
|  | 管理和跟踪工作  |              |
|  | 计划            |              |
|  +----------------+              |
|                                  |
|  +----------------+              |
|  | 统计分析        |              |
|  | 查看工作计划    |              |
|  | 的统计数据      |              |
|  +----------------+              |
|                                  |
|  +----------------+              |
|  | 进度跟踪        |              |
|  | 跟踪计划进度    |              |
|  | 和完成情况      |              |
|  +----------------+              |
|                                  |
|  +----------------+              |
|  | 历史记录        |              |
|  | 查看操作历史    |              |
|  | 和变更记录      |              |
|  +----------------+              |
|                                  |
+----------------------------------+
```

### 导航菜单设计

**位置**: 左侧固定侧边栏

**样式**:
- 宽度: 200px
- 背景色: #304156 (深蓝色)
- 文字颜色: #bfcbd9 (浅灰色)
- 激活项背景色: #409eff (蓝色)
- 激活项文字颜色: #ffffff (白色)

**导航项**:
1. 计划管理 (`/plans`)
   - 图标: 📋
   - 描述: 管理和跟踪工作计划
2. 统计分析 (`/statistics`)
   - 图标: 📊
   - 描述: 查看工作计划的统计数据
3. 进度跟踪 (`/progress`)
   - 图标: 📈
   - 描述: 跟踪计划进度和完成情况
4. 历史记录 (`/history`)
   - 图标: 📜
   - 描述: 查看操作历史和变更记录

### 功能卡片设计

**布局**: 网格布局,每行 2-3 个卡片

**卡片样式**:
- 宽度: 300px
- 高度: 200px
- 圆角: 8px
- 阴影: 0 2px 12px 0 rgba(0, 0, 0, 0.1)
- 悬停效果: 阴影加深,轻微上移

**卡片内容**:
- 顶部: 图标 (48x48px)
- 中部: 标题 (18px, 加粗)
- 底部: 描述 (14px, 灰色)

**交互**:
- 点击卡片跳转到对应页面
- 悬停时显示"点击进入"提示

## 技术实现

### 路由配置

```typescript
const routes: RouteRecordRaw[] = [
  {
    path: '/',
    component: MainLayout,
    children: [
      {
        path: '',
        name: 'Home',
        component: () => import('@/views/HomeView.vue'),
      },
      {
        path: 'plans',
        name: 'Plans',
        component: () => import('@/views/PlansView.vue'),
      },
      // ... 其他路由
    ],
  },
]
```

### 组件 Props 设计

**FeatureCard.vue**
```typescript
interface FeatureCardProps {
  title: string        // 功能标题
  description: string   // 功能描述
  icon: string         // 图标
  route: string        // 路由路径
}
```

**NavigationMenu.vue**
```typescript
interface NavigationItem {
  name: string         // 导航项名称
  path: string         // 路由路径
  icon: string         // 图标
  description: string  // 描述
}
```

### 状态管理

使用 Vue Router 的 `useRoute` 和 `useRouter` 来管理导航状态,无需额外的 Pinia store。

### 响应式设计

**桌面端** (> 768px):
- 侧边栏固定显示
- 功能卡片每行 3 个

**平板端** (768px - 1024px):
- 侧边栏固定显示
- 功能卡片每行 2 个

**移动端** (< 768px):
- 侧边栏可折叠
- 功能卡片每行 1 个

## 数据流

```
用户点击导航项
    ↓
NavigationMenu.vue 检测点击
    ↓
调用 router.push(path)
    ↓
Vue Router 更新路由
    ↓
MainLayout.vue 的 router-view 渲染新组件
    ↓
NavigationMenu.vue 高亮当前路由
```

## 性能考虑

1. **懒加载**: 所有视图组件使用动态导入
2. **图标优化**: 使用 Element Plus 的图标组件,避免加载外部图标库
3. **CSS 优化**: 使用 scoped CSS,避免样式污染
4. **缓存**: 利用 Vue Router 的路由缓存机制

## 可访问性

1. **键盘导航**: 支持使用 Tab 键在导航项之间切换
2. **ARIA 标签**: 为导航项添加适当的 ARIA 属性
3. **颜色对比度**: 确保文字和背景色对比度符合 WCAG 标准
4. **焦点指示**: 清晰显示当前聚焦的元素

## 扩展性考虑

1. **动态导航**: 未来可以从后端获取导航配置,实现动态菜单
2. **权限控制**: 可以根据用户权限显示/隐藏导航项
3. **主题切换**: 支持亮色/暗色主题切换
4. **国际化**: 支持多语言切换

## 测试策略

1. **单元测试**: 测试 FeatureCard 和 NavigationMenu 组件
2. **集成测试**: 测试路由跳转和导航高亮
3. **E2E 测试**: 测试完整的用户导航流程
4. **视觉回归测试**: 确保样式在不同浏览器中一致
